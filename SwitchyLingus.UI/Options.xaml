<Window x:Class="SwitchyLingus.UI.Options"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SwitchyLingus.UI"
        mc:Ignorable="d"
        ShowInTaskbar="True"
        WindowStartupLocation="CenterScreen"
        Title="Options" Height="300" Width="400"
        Icon="Icon24.ico"
        Style="{StaticResource DefaultStyle}">
    <Window.Tag>
        <Button Name="OptionsButton" 
                Style="{StaticResource TitleBarButtonStyle}"
                Width="24" Height="24"
                WindowChrome.IsHitTestVisibleInChrome="True"
                Click="OptionsButton_Click"
                Margin="0,0,0,1">
            <Viewbox Width="14" Height="14">
                <Path Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
                      Data="M 13.461816,0 C 12.809752,0 12.254727,0.53549447 12.221567,1.2087841 L 12.061619,4.4260898 A 12.225094,12.225094 0 0 0 7.9449362,6.8043264 L 5.0816127,5.3333334 C 4.481947,5.0254056 3.7399947,5.2353618 3.4139627,5.8000656 L 0.8731565,10.197312 c -0.32603193,0.564704 -0.13648325,1.315398 0.4300229,1.680761 l 2.7059981,1.746313 A 12.225094,12.225094 0 0 0 3.7758113,16 12.225094,12.225094 0 0 0 4.0091775,18.375614 l -2.7059981,1.746313 c -0.56650615,0.365362 -0.75605483,1.116057 -0.4300229,1.680761 l 2.5408062,4.397246 c 0.326032,0.564704 1.0679843,0.774661 1.66765,0.466732 l 2.8633235,-1.470993 a 12.225094,12.225094 0 0 0 4.1166828,2.378237 l 0.159948,3.217306 C 12.254727,31.464505 12.809752,32 13.461816,32 h 5.076368 c 0.652064,0 1.207089,-0.535495 1.240249,-1.208784 l 0.159948,-3.217306 a 12.225094,12.225094 0 0 0 4.116683,-2.378237 l 2.863323,1.470993 c 0.599666,0.307929 1.341619,0.09798 1.66765,-0.466732 l 2.540806,-4.397246 c 0.326032,-0.564704 0.136484,-1.315399 -0.430022,-1.680761 L 27.990823,18.375614 A 12.225094,12.225094 0 0 0 28.224189,16 12.225094,12.225094 0 0 0 27.990823,13.624386 l 2.705998,-1.746313 c 0.566506,-0.365363 0.756054,-1.116057 0.430022,-1.680761 L 28.586037,5.8000656 c -0.326031,-0.5647038 -1.067984,-0.77466 -1.66765,-0.4667322 l -2.863323,1.470993 A 12.225094,12.225094 0 0 0 19.938381,4.4260898 L 19.778433,1.2087841 C 19.745273,0.53549447 19.190248,0 18.538184,0 Z M 16,10.401835 A 5.597829,5.597829 0 0 1 21.598165,16 5.597829,5.597829 0 0 1 16,21.598165 5.597829,5.597829 0 0 1 10.401835,16 5.597829,5.597829 0 0 1 16,10.401835 Z" />
            </Viewbox>
            <Button.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Run on startup"
                              IsCheckable="True"
                              IsChecked="{Binding PlacementTarget.DataContext.RunOnStartup,
                                          RelativeSource={RelativeSource AncestorType=ContextMenu}}" />
                </ContextMenu>
            </Button.ContextMenu>
        </Button>
    </Window.Tag>
    <Window.Resources>
        <local:LanguageProfileTitleConverter x:Key="ValueConverter" />
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <ListView Grid.Column="0" Margin="5" ItemsSource="{Binding ProfileItems}"
                  SelectedItem="{Binding SelectedItem}">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Path=Name, Converter={StaticResource ValueConverter}}"/>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        <StackPanel Grid.Column="1" Margin="5">
            <Button Margin="5" Command="{Binding CreateNewProfileCommand}">Create...</Button>
            <Button Margin="5" Command="{Binding EditProfileCommand}">Edit...</Button>
            <Button Margin="5" Command="{Binding RemoveProfileCommand}">Remove</Button>
        </StackPanel>
    </Grid>
</Window>
